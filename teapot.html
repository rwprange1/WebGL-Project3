<!DOCTYPE html>
<html>

<title>Teapot</title>

<script id="vertex-shader" type="x-shader/x-vertex">

precision mediump float;


attribute vec4 vPosition;
attribute vec4 vNorm;


uniform mat4 uCamera;
uniform mat4 uPerspectiveMatrix;
uniform mat4 uTransMat;

uniform vec4 uRotQuat;
varying vec4 fColor;

/**
    the format for a quat vec4 (scale, vec3)
    function multiplies two quaternions
*/
vec4 multq(vec4 a, vec4 b){
    return vec4(a.x * b.x - dot(a.yzw, b.yzw),
        cross(b.yzw, a.yzw) + a.yzw *  b.x  + b.yzw * a.x    
    );
}


vec4 invq(vec4 a){
    return (vec4(a.x, -a.yzw)/dot(a,a));
}


void main() {
    vec4 p = vec4(0.0, vPosition.xyz);

    p = multq(uRotQuat, multq(p, invq(uRotQuat)));

    vec4 newPos = vec4(p.yzw, 1.0);
    gl_PointSize = 3.0;
    fColor = vec4(vNorm.yxz, 1.0);
    gl_Position =    uPerspectiveMatrix * uCamera  * newPos; 
    
}
</script>

<script id="fragment-shader" type="x-shader/x-fragment">

precision mediump float;

// vertex color coming from vertex shader
varying vec4 fColor;

void main() {
    gl_FragColor = fColor;
}

</script>



<head>
<!--Changed file path-->
<script type="text/javascript" src="common_files/utils.js"></script>
<script type="text/javascript" src="main.js"></script>
<script type="text/javascript" src="MV.js"></script>
<script type="text/javascript" src="Camera.js"></script>
<script type="text/javascript" src="./createTeapotData.js"></script>
<script type="text/javascript" src="./patches.js"></script>
<script type="text/javascript" src="./vertices.js"></script>
<script type="text/javascript" src="quaternion.js"></script>

<link rel="stylesheet" href="style.css">
</head>   

<body style="background-color: blueviolet;">
    <div class="flex-container">
        <div class="column" >
            <canvas id="gl-canvas" width="512" height="512"  >
            Oops ... your browser doesn't support the HTML5 canvas element
            </canvas>
            <div id="cameraPos" ></div>
        </div>
        <div class="column">
            <h1>Control Panel</h1>

            <h2 style="text-align: left ;">Light Source Position</h2>
            <div class="light">
                

                <h1 style="display: flex; flex-direction: column;">
                    X: (0.0 - 1.0)
                    <input type="range" value=".5" min="0.0" max="1.0" class="slider" step=".25" id="light-x-slider" />
                </h1>

                <h1 style="display: flex; flex-direction: column;">
                    Y: (0.0 - 1.0)
                    <input type="range" value=".5" min="0.0" max="1.0" class="slider" step=".25" id="light-y-slider" />

                </h1>

                <h1 style="display: flex; flex-direction: column;">
                    Z: (0.0 - 1.0)
                    <input type="range" value=".5" min="0.0" max="1.0" class="slider" step=".25" id="light-z-slider" />
                </h1>
            </div>
            

            <h2 style="text-align: left ;">Light Properties</h2>
            <div class="light">
                

                <h1 style="display: flex; flex-direction: column;">
                    Light Intensity (Diffuse): (1.0 - 5.0)
                    <input type="range" value=".5" min="1.0" max="5.0" class="slider" step=".25" id="light-x-slider" />
                </h1>

                <h1 style="display: flex; flex-direction: column;">
                    Light Intensity (Specular): (1.0 - 5.0)
                    <input type="range" value=".5" min="1.0" max="5.0" class="slider" step=".25" id="light-x-slider" />
                </h1>

               
            </div>



           

            </h1>
            <h1>
                <button id="reset">Reset World</button>
            </h1>
            
        </div>



    </div>










</body>
</html>
